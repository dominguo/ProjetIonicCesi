<ion-view view-title="{{roomInformation.title}}">
    <ion-content>
        <nav-page title="title">
            <content has-header="true"
                     has-footer="true"
                     scroll="true"
                     padding="true"
                     on-refresh="onRefresh()"
                     on-refresh-opening="onRefreshOpening(amount)"
                     refresh-complete="refreshComplete"
                     animate-nav="true">

                <!-- for pull to refresh -->
                <refresher></refresher>

                <div ng-repeat="message in messages" type="item-text-wrap">
                    <div class="card item-message">
                        <div class="item-message-header">
                            <div class="row">
                                <small class="col">{{message.user_name}}</small>
                                <small class="col text-right">{{message.created_at | date: 'short' }}</small>
                            </div>
                        </div>
                        <div class="item-message-body item-text-wrap">
                            {{message.content}}
                        </div>
                    </div>
                </div>
            </content>

            <ion-footer>
                <ion-toolbar>
                    <form name="messageCreationForm" ng-submit="submitAddMessage(messageCreationForm,message)">
                        <label class="item item-input">
                            <input type="text" placeholder="test ..." ng-model="message.content" required>
                            <button class="button button-positive">Envoyer</button>
                        </label>
                    </form>
                </ion-toolbar>
            </ion-footer>
        </nav-page>
    </ion-content>
</ion-view>
